(function(){"use strict";var e={2006:function(e,t,s){var a=s(5130),n=s(6768),o=(s(4114),s(8111),s(2489),s(1701),s(7642),s(8004),s(3853),s(5876),s(2475),s(5024),s(1698),s(4232)),l=s(144),r=s(4373);const c="https://cong-ha-mastacos--80.prod1b.defang.dev/api",i=r.A.create({baseURL:c,timeout:1e4,headers:{"Content-Type":"application/json"}}),u={async getMenuItems(){try{console.log(`Fetching menu items from: ${c}/menuItems`);const e=await i.get("/menuItems");return e.data}catch(e){throw console.error("Error fetching menu items:",e),r.A.isAxiosError(e)&&(console.error("Response status:",e.response?.status),console.error("Response data:",e.response?.data)),e}},async getMenuItemsByCategory(e){try{console.log(`Fetching menu items for category ${e}`);const t=await i.get(`/menuItems/category/${e}`);return t.data}catch(t){throw console.error(`Error fetching menu items for category ${e}:`,t),r.A.isAxiosError(t)&&(console.error("Response status:",t.response?.status),console.error("Response data:",t.response?.data)),t}},async getMenuItem(e){try{console.log(`Fetching menu item ${e}`);const t=await i.get(`/menuItems/${e}`);return t.data}catch(t){throw console.error(`Error fetching menu item ${e}:`,t),r.A.isAxiosError(t)&&(console.error("Response status:",t.response?.status),console.error("Response data:",t.response?.data)),t}},async getPopularItems(){try{console.log("Fetching popular menu items");const e=await i.get("/menuItems/popular");return e.data}catch(e){throw console.error("Error fetching popular menu items:",e),r.A.isAxiosError(e)&&(console.error("Response status:",e.response?.status),console.error("Response data:",e.response?.data)),e}}},d={class:"modal-dialog modal-lg"},m={key:0,class:"modal-content"},v={class:"modal-header"},p={class:"modal-title"},b={class:"modal-body"},k={class:"row"},y={class:"col-md-4"},g={class:"img-placeholder bg-light d-flex align-items-center justify-content-center",style:{height:"200px"}},f={class:"mt-3"},L={class:"badge bg-success me-2"},h={key:0,class:"badge bg-danger"},C={class:"col-md-8"},I={class:"quantity-selector mb-3"},w={class:"input-group",style:{width:"150px"}},E={class:"mb-3"},_={class:"modal-footer"},x={class:"d-flex w-100 justify-content-between align-items-center"},X={class:"price-total"},A={class:"fw-bold"};var R=(0,n.pM)({__name:"MenuItemModal",props:{menuItem:{},isVisible:{type:Boolean}},emits:["close","add-to-order"],setup(e,{emit:t}){const s=e,r=t,c=(0,l.KR)(1),i=(0,l.KR)("");(0,n.wB)((()=>s.menuItem),(()=>{c.value=1,i.value=""})),(0,n.wB)((()=>s.isVisible),(e=>{e?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open")}));const u=()=>{c.value<10&&c.value++},R=()=>{c.value>1&&c.value--},F=e=>`$${e.toFixed(2)}`,M=()=>{r("close")},O=()=>{s.menuItem&&r("add-to-order",{menuItem:s.menuItem,quantity:c.value,specialInstructions:i.value})};return(e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",{class:(0,o.C4)(["modal fade",{show:e.isVisible}]),tabindex:"-1",style:(0,o.Tr)({display:e.isVisible?"block":"none"})},[(0,n.Lk)("div",d,[e.menuItem?((0,n.uX)(),(0,n.CE)("div",m,[(0,n.Lk)("div",v,[(0,n.Lk)("h5",p,(0,o.v_)(e.menuItem.name),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:M})]),(0,n.Lk)("div",b,[(0,n.Lk)("div",k,[(0,n.Lk)("div",y,[(0,n.Lk)("div",g,[(0,n.Lk)("span",null,(0,o.v_)(e.menuItem.category),1)]),(0,n.Lk)("div",f,[(0,n.Lk)("span",L,(0,o.v_)(F(e.menuItem.price)),1),e.menuItem.popularityScore>=80?((0,n.uX)(),(0,n.CE)("span",h,"Popular")):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",C,[(0,n.Lk)("p",null,(0,o.v_)(e.menuItem.description),1),(0,n.Lk)("div",I,[t[2]||(t[2]=(0,n.Lk)("label",{class:"form-label"},"Quantity:",-1)),(0,n.Lk)("div",w,[(0,n.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:R},"-"),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),readonly:""},null,512),[[a.Jo,c.value]]),(0,n.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:u},"+")])]),(0,n.Lk)("div",E,[t[3]||(t[3]=(0,n.Lk)("label",{class:"form-label"},"Special Instructions:",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),rows:"2",placeholder:"Any special requests?"},null,512),[[a.Jo,i.value]])])])])]),(0,n.Lk)("div",_,[(0,n.Lk)("div",x,[(0,n.Lk)("div",X,[t[4]||(t[4]=(0,n.Lk)("span",{class:"me-2"},"Total:",-1)),(0,n.Lk)("span",A,(0,o.v_)(F(e.menuItem.price*c.value)),1)]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary me-2",onClick:M},"Cancel"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:O},"Add to Order")])])])])):(0,n.Q3)("",!0)])],6),e.isVisible?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,o.C4)(["modal-backdrop fade",{show:e.isVisible}])},null,2)):(0,n.Q3)("",!0)],64))}}),F=s(1241);const M=(0,F.A)(R,[["__scopeId","data-v-d7af43be"]]);var O=M;s(8237);const j={class:"shopping-cart"},K={key:0,class:"cart-count"},$={class:"cart-header"},S={key:0,class:"empty-cart"},T={key:1,class:"cart-items"},Q={class:"item-details"},V={class:"item-name"},q={class:"item-meta"},P={class:"item-quantity"},B={class:"item-price"},W={key:0,class:"item-instructions"},U=["onClick"],J={key:2,class:"cart-footer"},Y={class:"d-flex justify-content-between mb-3"},z={class:"fw-bold"};var D=(0,n.pM)({__name:"ShoppingCart",props:{cartItems:{}},emits:["remove-item"],setup(e,{emit:t}){const s=e,a=t,r=(0,l.KR)(!1),c=(0,n.EW)((()=>s.cartItems.reduce(((e,t)=>e+t.menuItem.price*t.quantity),0))),i=(0,n.EW)((()=>s.cartItems.reduce(((e,t)=>e+t.quantity),0))),u=e=>{a("remove-item",e)};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",j,[(0,n.Lk)("button",{class:(0,o.C4)(["cart-button",{"has-items":e.cartItems.length>0}]),onClick:t[0]||(t[0]=e=>r.value=!r.value)},[t[3]||(t[3]=(0,n.Lk)("i",{class:"bi bi-cart"},null,-1)),e.cartItems.length>0?((0,n.uX)(),(0,n.CE)("span",K,(0,o.v_)(i.value),1)):(0,n.Q3)("",!0)],2),(0,n.Lk)("div",{class:(0,o.C4)(["cart-dropdown",{show:r.value}])},[(0,n.Lk)("div",$,[t[4]||(t[4]=(0,n.Lk)("h5",{class:"mb-0"},"Your Order",-1)),(0,n.Lk)("button",{class:"btn-close",onClick:t[1]||(t[1]=e=>r.value=!1)})]),0===e.cartItems.length?((0,n.uX)(),(0,n.CE)("div",S,t[5]||(t[5]=[(0,n.Lk)("i",{class:"bi bi-cart text-muted"},null,-1),(0,n.Lk)("p",null,"Your cart is empty",-1)]))):((0,n.uX)(),(0,n.CE)("div",T,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.cartItems,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{key:s,class:"cart-item"},[(0,n.Lk)("div",Q,[(0,n.Lk)("h6",V,(0,o.v_)(e.menuItem.name),1),(0,n.Lk)("div",q,[(0,n.Lk)("span",P,(0,o.v_)(e.quantity)+"x",1),(0,n.Lk)("span",B,"$"+(0,o.v_)((e.menuItem.price*e.quantity).toFixed(2)),1)]),e.specialInstructions?((0,n.uX)(),(0,n.CE)("small",W,(0,o.v_)(e.specialInstructions),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("button",{class:"btn btn-sm text-danger",title:"Remove item",onClick:e=>u(s)},t[6]||(t[6]=[(0,n.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,U)])))),128))])),e.cartItems.length>0?((0,n.uX)(),(0,n.CE)("div",J,[(0,n.Lk)("div",Y,[t[7]||(t[7]=(0,n.Lk)("span",null,"Subtotal:",-1)),(0,n.Lk)("span",z,"$"+(0,o.v_)(c.value.toFixed(2)),1)]),t[8]||(t[8]=(0,n.Lk)("button",{class:"btn btn-primary w-100"},"Checkout",-1))])):(0,n.Q3)("",!0)],2),r.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"cart-backdrop",onClick:t[2]||(t[2]=e=>r.value=!1)})):(0,n.Q3)("",!0)]))}});const G=(0,F.A)(D,[["__scopeId","data-v-41c2c65b"]]);var H=G;const N={class:"menu-container"},Z={class:"menu-header mb-4 d-flex justify-content-between align-items-center"},ee={key:0,class:"text-center my-5"},te={key:1,class:"alert alert-danger mx-auto",style:{"max-width":"500px"}},se={key:2,class:"row"},ae={class:"col-md-3 mb-4"},ne={class:"card"},oe={class:"card-body"},le={class:"list-group"},re=["onClick"],ce={class:"col-md-9"},ie={class:"row"},ue={class:"card h-100 menu-item"},de={class:"card-body"},me={class:"d-flex justify-content-between"},ve={class:"card-title"},pe={class:"badge bg-success price-badge"},be={class:"card-text"},ke={class:"d-flex justify-content-between align-items-center mt-auto"},ye={class:"badge bg-light text-dark"},ge={key:0,class:"badge bg-danger"},fe={class:"card-footer bg-white border-top-0"},Le=["onClick"];var he=(0,n.pM)({__name:"MenuItemsList",setup(e){const t=(0,l.KR)([]),s=(0,l.KR)(!0),a=(0,l.KR)(null),r=(0,l.KR)(null),c=(0,l.KR)(null),i=(0,l.KR)(!1),d=(0,l.KR)([]),m=(0,n.EW)((()=>{const e=new Set(t.value.map((e=>e.category)));return Array.from(e).sort()})),v=(0,n.EW)((()=>r.value?t.value.filter((e=>e.category===r.value)):t.value)),p=async()=>{s.value=!0,a.value=null;try{const e=await u.getMenuItems();t.value=e}catch(e){e instanceof Error?a.value=e.message:a.value="An unknown error occurred",console.error("Failed to fetch menu items:",e)}finally{s.value=!1}},b=e=>{c.value=e,i.value=!0},k=()=>{i.value=!1,setTimeout((()=>{c.value=null}),300)},y=e=>{d.value.push(e),console.log("Added to cart:",e),console.log("Current cart:",d.value),k()},g=e=>{d.value.splice(e,1)};return(0,n.sV)((()=>{p()})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",N,[(0,n.Lk)("div",Z,[t[1]||(t[1]=(0,n.Lk)("h1",{class:"mb-0"},"Ma's Tacos Menu",-1)),(0,n.bF)(H,{"cart-items":d.value,onRemoveItem:g},null,8,["cart-items"])]),s.value?((0,n.uX)(),(0,n.CE)("div",ee,t[2]||(t[2]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,n.Lk)("p",{class:"mt-3"},"Loading menu items...",-1)]))):a.value?((0,n.uX)(),(0,n.CE)("div",te,[t[3]||(t[3]=(0,n.Lk)("h4",{class:"alert-heading"},"Error Loading Menu",-1)),(0,n.Lk)("p",null,(0,o.v_)(a.value),1),(0,n.Lk)("button",{class:"btn btn-outline-danger",onClick:p},"Try Again")])):((0,n.uX)(),(0,n.CE)("div",se,[(0,n.Lk)("div",ae,[(0,n.Lk)("div",ne,[t[4]||(t[4]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h5",{class:"mb-0"},"Categories")],-1)),(0,n.Lk)("div",oe,[(0,n.Lk)("div",le,[(0,n.Lk)("button",{class:(0,o.C4)(["list-group-item list-group-item-action",{active:null===r.value}]),onClick:t[0]||(t[0]=e=>r.value=null)}," All Items ",2),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(m.value,(e=>((0,n.uX)(),(0,n.CE)("button",{key:e,class:(0,o.C4)(["list-group-item list-group-item-action",{active:r.value===e}]),onClick:t=>r.value=e},(0,o.v_)(e),11,re)))),128))])])])]),(0,n.Lk)("div",ce,[(0,n.Lk)("div",ie,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(v.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"col-md-6 col-lg-4 mb-4"},[(0,n.Lk)("div",ue,[(0,n.Lk)("div",de,[(0,n.Lk)("div",me,[(0,n.Lk)("h5",ve,(0,o.v_)(e.name),1),(0,n.Lk)("span",pe,"$"+(0,o.v_)(e.price.toFixed(2)),1)]),(0,n.Lk)("p",be,(0,o.v_)(e.description),1),(0,n.Lk)("div",ke,[(0,n.Lk)("span",ye,(0,o.v_)(e.category),1),e.popularityScore>=80?((0,n.uX)(),(0,n.CE)("span",ge,"Popular")):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",fe,[(0,n.Lk)("button",{class:"btn btn-primary w-100",onClick:t=>b(e)},"Add to Order",8,Le)])])])))),128))])])])),(0,n.bF)(O,{"menu-item":c.value,"is-visible":i.value,onClose:k,onAddToOrder:y},null,8,["menu-item","is-visible"])]))}});const Ce=(0,F.A)(he,[["__scopeId","data-v-84f92428"]]);var Ie=Ce;const we={class:"container"};var Ee=(0,n.pM)({__name:"App",setup(e){return(e,t)=>((0,n.uX)(),(0,n.CE)("div",we,[(0,n.bF)(Ie)]))}});const _e=Ee;var xe=_e;(0,a.Ef)(xe).mount("#app")}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,o){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],o=e[u][2];for(var r=!0,c=0;c<a.length;c++)(!1&o||l>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[c])}))?a.splice(c--,1):(r=!1,o<l&&(l=o));if(r){e.splice(u--,1);var i=n();void 0!==i&&(t=i)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,l=a[0],r=a[1],c=a[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(c)var u=c(s)}for(t&&t(a);i<l.length;i++)o=l[i],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},a=self["webpackChunkmastacos_ui"]=self["webpackChunkmastacos_ui"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(2006)}));a=s.O(a)})();
//# sourceMappingURL=app.ff2332af.js.map